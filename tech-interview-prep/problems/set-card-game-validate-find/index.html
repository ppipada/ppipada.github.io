<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="SET Card Game - Validate Set And Find Set# Levels: level-4 Data structures: array, hash-table Patterns: hashing Practice Link# No single canonical LeetCode problem; this is a common interview / game-math problem. Description# Each card has k attributes (in the classic game, k = 4), each taking one of 3 values, typically encoded as 0/1/2. Three cards form a valid set if for every attribute: the values are all the same, OR the values are all different Tasks: is_set(cards3) -&gt; bool: given exactly 3 cards, return whether they form a set find_set(cards) -&gt; list[card]: given a list of cards, return any one set (3 cards), else [] Examples# 1(1,0,1,2) 2(1,2,0,2) 3(1,1,2,1) 4-&gt; True1(1,0,1,2) 2(1,0,1,2) 3(1,0,1,2) 4-&gt; True (all attributes all same)Python Solution# 1from collections import Counter 2from typing import List, Sequence, Tuple 3 4Card = Tuple[int, ...] # e.g. (1,0,1,2) 5 6def is_set(cards: Sequence[Card]) -&gt; bool: 7 &#34;&#34;&#34; 8 Check whether exactly 3 cards form a valid Set. 9 10 Condition per attribute i: 11 len({c1[i], c2[i], c3[i]}) in {1, 3} 12 13 Time: O(k) 14 Space: O(1) 15 &#34;&#34;&#34; 16 if len(cards) != 3: 17 return False 18 a, b, c = cards 19 if len(a) != len(b) or len(b) != len(c): 20 return False 21 22 k = len(a) 23 for i in range(k): 24 vals = {a[i], b[i], c[i]} 25 if len(vals) not in (1, 3): 26 return False 27 return True 28 29def _third_value_mod3(x: int, y: int) -&gt; int: 30 &#34;&#34;&#34; 31 Values are in {0,1,2}. 32 If x==y then third must be same. 33 Else third is the remaining value: 0&#43;1&#43;2 - x - y 34 &#34;&#34;&#34; 35 return x if x == y else (3 - x - y) 36 37def find_any_set(cards: List[Card]) -&gt; List[Card]: 38 &#34;&#34;&#34; 39 Find any set among the given cards (returns the 3 cards), else []. 40 41 Efficient approach (classic SET trick): 42 For any two cards A and B, the required third card C is uniquely determined 43 attribute-wise (in mod 3 encoding). 44 45 Handles duplicates by using counts. 46 47 Time: O(n^2 * k) 48 Space: O(n) 49 &#34;&#34;&#34; 50 n = len(cards) 51 if n &lt; 3: 52 return [] 53 54 counts = Counter(cards) 55 unique = list(counts.keys()) 56 k = len(unique[0]) if unique else 0 57 unique_set = set(unique) 58 59 # Iterate over pairs of unique cards (still fine; counts handle duplicates) 60 for i in range(len(unique)): 61 for j in range(i, len(unique)): 62 a = unique[i] 63 b = unique[j] 64 65 need = tuple(_third_value_mod3(a[d], b[d]) for d in range(k)) 66 if need not in unique_set: 67 continue 68 69 # Verify availability of 3 cards considering duplicates 70 # Build multiset requirement 71 req = Counter([a, b, need]) 72 ok = True 73 for card, r in req.items(): 74 if counts[card] &lt; r: 75 ok = False 76 break 77 if ok and is_set([a, b, need]): 78 return [a, b, need] 79 80 return []">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://pankajpipada.com/tech-interview-prep/problems/set-card-game-validate-find/">
  <meta property="og:site_name" content="Tech Interview Prep">
  <meta property="og:title" content="SET Card Game - Validate Set And Find Set">
  <meta property="og:description" content="SET Card Game - Validate Set And Find Set# Levels: level-4 Data structures: array, hash-table Patterns: hashing Practice Link# No single canonical LeetCode problem; this is a common interview / game-math problem. Description# Each card has k attributes (in the classic game, k = 4), each taking one of 3 values, typically encoded as 0/1/2. Three cards form a valid set if for every attribute: the values are all the same, OR the values are all different Tasks: is_set(cards3) -&gt; bool: given exactly 3 cards, return whether they form a set find_set(cards) -&gt; list[card]: given a list of cards, return any one set (3 cards), else [] Examples# 1(1,0,1,2) 2(1,2,0,2) 3(1,1,2,1) 4-&gt; True1(1,0,1,2) 2(1,0,1,2) 3(1,0,1,2) 4-&gt; True (all attributes all same)Python Solution# 1from collections import Counter 2from typing import List, Sequence, Tuple 3 4Card = Tuple[int, ...] # e.g. (1,0,1,2) 5 6def is_set(cards: Sequence[Card]) -&gt; bool: 7 &#34;&#34;&#34; 8 Check whether exactly 3 cards form a valid Set. 9 10 Condition per attribute i: 11 len({c1[i], c2[i], c3[i]}) in {1, 3} 12 13 Time: O(k) 14 Space: O(1) 15 &#34;&#34;&#34; 16 if len(cards) != 3: 17 return False 18 a, b, c = cards 19 if len(a) != len(b) or len(b) != len(c): 20 return False 21 22 k = len(a) 23 for i in range(k): 24 vals = {a[i], b[i], c[i]} 25 if len(vals) not in (1, 3): 26 return False 27 return True 28 29def _third_value_mod3(x: int, y: int) -&gt; int: 30 &#34;&#34;&#34; 31 Values are in {0,1,2}. 32 If x==y then third must be same. 33 Else third is the remaining value: 0&#43;1&#43;2 - x - y 34 &#34;&#34;&#34; 35 return x if x == y else (3 - x - y) 36 37def find_any_set(cards: List[Card]) -&gt; List[Card]: 38 &#34;&#34;&#34; 39 Find any set among the given cards (returns the 3 cards), else []. 40 41 Efficient approach (classic SET trick): 42 For any two cards A and B, the required third card C is uniquely determined 43 attribute-wise (in mod 3 encoding). 44 45 Handles duplicates by using counts. 46 47 Time: O(n^2 * k) 48 Space: O(n) 49 &#34;&#34;&#34; 50 n = len(cards) 51 if n &lt; 3: 52 return [] 53 54 counts = Counter(cards) 55 unique = list(counts.keys()) 56 k = len(unique[0]) if unique else 0 57 unique_set = set(unique) 58 59 # Iterate over pairs of unique cards (still fine; counts handle duplicates) 60 for i in range(len(unique)): 61 for j in range(i, len(unique)): 62 a = unique[i] 63 b = unique[j] 64 65 need = tuple(_third_value_mod3(a[d], b[d]) for d in range(k)) 66 if need not in unique_set: 67 continue 68 69 # Verify availability of 3 cards considering duplicates 70 # Build multiset requirement 71 req = Counter([a, b, need]) 72 ok = True 73 for card, r in req.items(): 74 if counts[card] &lt; r: 75 ok = False 76 break 77 if ok and is_set([a, b, need]): 78 return [a, b, need] 79 80 return []">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">


  <meta itemprop="name" content="SET Card Game - Validate Set And Find Set">
  <meta itemprop="description" content="SET Card Game - Validate Set And Find Set# Levels: level-4 Data structures: array, hash-table Patterns: hashing Practice Link# No single canonical LeetCode problem; this is a common interview / game-math problem. Description# Each card has k attributes (in the classic game, k = 4), each taking one of 3 values, typically encoded as 0/1/2. Three cards form a valid set if for every attribute: the values are all the same, OR the values are all different Tasks: is_set(cards3) -&gt; bool: given exactly 3 cards, return whether they form a set find_set(cards) -&gt; list[card]: given a list of cards, return any one set (3 cards), else [] Examples# 1(1,0,1,2) 2(1,2,0,2) 3(1,1,2,1) 4-&gt; True1(1,0,1,2) 2(1,0,1,2) 3(1,0,1,2) 4-&gt; True (all attributes all same)Python Solution# 1from collections import Counter 2from typing import List, Sequence, Tuple 3 4Card = Tuple[int, ...] # e.g. (1,0,1,2) 5 6def is_set(cards: Sequence[Card]) -&gt; bool: 7 &#34;&#34;&#34; 8 Check whether exactly 3 cards form a valid Set. 9 10 Condition per attribute i: 11 len({c1[i], c2[i], c3[i]}) in {1, 3} 12 13 Time: O(k) 14 Space: O(1) 15 &#34;&#34;&#34; 16 if len(cards) != 3: 17 return False 18 a, b, c = cards 19 if len(a) != len(b) or len(b) != len(c): 20 return False 21 22 k = len(a) 23 for i in range(k): 24 vals = {a[i], b[i], c[i]} 25 if len(vals) not in (1, 3): 26 return False 27 return True 28 29def _third_value_mod3(x: int, y: int) -&gt; int: 30 &#34;&#34;&#34; 31 Values are in {0,1,2}. 32 If x==y then third must be same. 33 Else third is the remaining value: 0&#43;1&#43;2 - x - y 34 &#34;&#34;&#34; 35 return x if x == y else (3 - x - y) 36 37def find_any_set(cards: List[Card]) -&gt; List[Card]: 38 &#34;&#34;&#34; 39 Find any set among the given cards (returns the 3 cards), else []. 40 41 Efficient approach (classic SET trick): 42 For any two cards A and B, the required third card C is uniquely determined 43 attribute-wise (in mod 3 encoding). 44 45 Handles duplicates by using counts. 46 47 Time: O(n^2 * k) 48 Space: O(n) 49 &#34;&#34;&#34; 50 n = len(cards) 51 if n &lt; 3: 52 return [] 53 54 counts = Counter(cards) 55 unique = list(counts.keys()) 56 k = len(unique[0]) if unique else 0 57 unique_set = set(unique) 58 59 # Iterate over pairs of unique cards (still fine; counts handle duplicates) 60 for i in range(len(unique)): 61 for j in range(i, len(unique)): 62 a = unique[i] 63 b = unique[j] 64 65 need = tuple(_third_value_mod3(a[d], b[d]) for d in range(k)) 66 if need not in unique_set: 67 continue 68 69 # Verify availability of 3 cards considering duplicates 70 # Build multiset requirement 71 req = Counter([a, b, need]) 72 ok = True 73 for card, r in req.items(): 74 if counts[card] &lt; r: 75 ok = False 76 break 77 if ok and is_set([a, b, need]): 78 return [a, b, need] 79 80 return []">
  <meta itemprop="wordCount" content="492">
  <meta itemprop="keywords" content="Array,Hash-Table,Level-4,Hashing">

<title>SET Card Game - Validate Set And Find Set | Tech Interview Prep</title>
<link rel="icon" href="/tech-interview-prep/favicon.ico" >
<link rel="manifest" href="/tech-interview-prep/manifest.json">
<link rel="canonical" href="https://pankajpipada.com/tech-interview-prep/problems/set-card-game-validate-find/">
<link rel="stylesheet" href="/tech-interview-prep/book.min.a567a91bee849fdc8e389499c30737d9ada1b560975fb536f0b49c53aa5a0619.css" integrity="sha256-pWepG&#43;6En9yOOJSZwwc32a2htWCXX7U28LScU6paBhk=" crossorigin="anonymous">


  <script defer src="/tech-interview-prep/fuse.min.js"></script>
  <script defer src="/tech-interview-prep/en.search.min.713e407e217a317ce31d77e165ee40078abbdb00815736255b852dabe752b6c5.js" integrity="sha256-cT5AfiF6MXzjHXfhZe5AB4q72wCBVzYlW4Utq&#43;dStsU=" crossorigin="anonymous"></script>

		<script async src="https://www.googletagmanager.com/gtag/js?id=G-PVSXVYRTKF"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-PVSXVYRTKF');
        </script>

<link rel="alternate" type="application/rss+xml" href="https://pankajpipada.com/tech-interview-prep/problems/set-card-game-validate-find/index.xml" title="Tech Interview Prep" />

  
</head>
<body dir="ltr" class="book-kind-section book-type-problems">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h4 class="scramblings-brand"><a
		class="flex align-center"
		href="
			https://pankajpipada.com/
		"
	><img src="/tech-interview-prep/icon-32x32.png" alt="Logo" /><span class="text-sm">Scramblings</span>
	</a>
</h4>


<div class="book-search hidden">
  <input id="book-search-input" type="text" 
    placeholder="Search"
    aria-label="Search"
    maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>




<ul>
	<li>
		<a href="/tech-interview-prep/">
			<span>Tech Interview Prep</span>
		</a>
	</li>
</ul>







  



  
	
	<ul>
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/levels/problems/" class="">
			Path: Levels</a>
	

					
	
	<ul>
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/levels/problems/" class="">
			Problems</a>
	

				</li>
			
		
	</ul>

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/patterns/problems/" class="">
			Path: Patterns</a>
	

					
	
	<ul>
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/patterns/problems/" class="">
			Problems</a>
	

				</li>
			
		
	</ul>

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/data-structures/quick-notes/" class="">
			Path: Data Structures</a>
	

					
	
	<ul>
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/data-structures/quick-notes/" class="">
			Quick Notes</a>
	

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/data-structures/problems/" class="">
			Problems</a>
	

				</li>
			
		
	</ul>

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/algorithms/quick-notes/" class="">
			Path: Algorithms</a>
	

					
	
	<ul>
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/algorithms/quick-notes/" class="">
			Quick Notes</a>
	

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/algorithms/problems/" class="">
			Problems</a>
	

				</li>
			
		
	</ul>

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/problems/" class="">
			All Problems</a>
	

					
	
	<ul>
		
	</ul>

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/system-design/" class="">
			System Design</a>
	

				</li>
			
		
			
				<li>
					
	
	
	

	
		<a href="/tech-interview-prep/external/" class="">
			External References</a>
	

				</li>
			
		
	</ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
	<label for="menu-control">
		<img src="/tech-interview-prep/icons/menu.svg" class="book-icon" alt="Menu" />
	</label>

	<label for="toc-control">
		
	</label>
</div>


  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="set-card-game---validate-set-and-find-set">SET Card Game - Validate Set And Find Set<a class="anchor" href="#set-card-game---validate-set-and-find-set">#</a></h1>
<div style="margin: .5rem 0 1rem 0;"><div>
				<strong>Levels:&ensp;</strong><a href="https://pankajpipada.com/tech-interview-prep/levels/problems/#level-4">level-4</a></div><div>
				<strong>Data structures:&ensp;</strong><a href="https://pankajpipada.com/tech-interview-prep/data-structures/problems/#array">array</a>,&ensp;<a href="https://pankajpipada.com/tech-interview-prep/data-structures/problems/#hash-table">hash-table</a></div><div>
				<strong>Patterns:&ensp;</strong><a href="https://pankajpipada.com/tech-interview-prep/patterns/problems/#hashing">hashing</a></div></div>

<h2 id="practice-link">Practice Link<a class="anchor" href="#practice-link">#</a></h2>
<ul>
<li>No single canonical LeetCode problem; this is a common interview / game-math problem.</li>
</ul>
<h2 id="description">Description<a class="anchor" href="#description">#</a></h2>
<ul>
<li>Each card has <code>k</code> attributes (in the classic game, <code>k = 4</code>), each taking one of 3 values, typically encoded as
<code>0/1/2</code>.</li>
<li>Three cards form a valid set if <strong>for every attribute</strong>:
<ul>
<li>the values are <strong>all the same</strong>, OR</li>
<li>the values are <strong>all different</strong></li>
</ul>
</li>
<li>Tasks:
<ol>
<li><code>is_set(cards3) -&gt; bool</code>: given exactly 3 cards, return whether they form a set</li>
<li><code>find_set(cards) -&gt; list[card]</code>: given a list of cards, return any one set (3 cards), else <code>[]</code></li>
</ol>
</li>
</ul>
<h2 id="examples">Examples<a class="anchor" href="#examples">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-text" data-lang="text"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>(1,0,1,2)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>(1,2,0,2)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>(1,1,2,1)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>-&gt; True</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-text" data-lang="text"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>(1,0,1,2)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>(1,0,1,2)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>(1,0,1,2)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>-&gt; True  (all attributes all same)</span></span></code></pre></div><h2 id="python-solution">Python Solution<a class="anchor" href="#python-solution">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-py" data-lang="py"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> Counter
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List, Sequence, Tuple
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>Card <span style="color:#f92672">=</span> Tuple[int, <span style="color:#f92672">...</span>]  <span style="color:#75715e"># e.g. (1,0,1,2)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_set</span>(cards: Sequence[Card]) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#e6db74">    Check whether exactly 3 cards form a valid Set.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span><span style="color:#e6db74">    Condition per attribute i:
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#e6db74">      len({c1[i], c2[i], c3[i]}) in {1, 3}
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#e6db74">    Time:  O(k)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span><span style="color:#e6db74">    Space: O(1)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>    <span style="color:#66d9ef">if</span> len(cards) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>    a, b, c <span style="color:#f92672">=</span> cards
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>    <span style="color:#66d9ef">if</span> len(a) <span style="color:#f92672">!=</span> len(b) <span style="color:#f92672">or</span> len(b) <span style="color:#f92672">!=</span> len(c):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>    k <span style="color:#f92672">=</span> len(a)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(k):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span>        vals <span style="color:#f92672">=</span> {a[i], b[i], c[i]}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span>        <span style="color:#66d9ef">if</span> len(vals) <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_third_value_mod3</span>(x: int, y: int) <span style="color:#f92672">-&gt;</span> int:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span><span><span style="color:#e6db74">    Values are in {0,1,2}.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span><span><span style="color:#e6db74">    If x==y then third must be same.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span><span><span style="color:#e6db74">    Else third is the remaining value: 0+1+2 - x - y
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span><span>    <span style="color:#66d9ef">return</span> x <span style="color:#66d9ef">if</span> x <span style="color:#f92672">==</span> y <span style="color:#66d9ef">else</span> (<span style="color:#ae81ff">3</span> <span style="color:#f92672">-</span> x <span style="color:#f92672">-</span> y)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">find_any_set</span>(cards: List[Card]) <span style="color:#f92672">-&gt;</span> List[Card]:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span><span><span style="color:#e6db74">    Find any set among the given cards (returns the 3 cards), else [].
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41</span><span><span style="color:#e6db74">    Efficient approach (classic SET trick):
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42</span><span><span style="color:#e6db74">    For any two cards A and B, the required third card C is uniquely determined
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43</span><span><span style="color:#e6db74">    attribute-wise (in mod 3 encoding).
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45</span><span><span style="color:#e6db74">    Handles duplicates by using counts.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47</span><span><span style="color:#e6db74">    Time:  O(n^2 * k)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48</span><span><span style="color:#e6db74">    Space: O(n)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49</span><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50</span><span>    n <span style="color:#f92672">=</span> len(cards)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51</span><span>    <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52</span><span>        <span style="color:#66d9ef">return</span> []
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54</span><span>    counts <span style="color:#f92672">=</span> Counter(cards)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55</span><span>    unique <span style="color:#f92672">=</span> list(counts<span style="color:#f92672">.</span>keys())
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56</span><span>    k <span style="color:#f92672">=</span> len(unique[<span style="color:#ae81ff">0</span>]) <span style="color:#66d9ef">if</span> unique <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57</span><span>    unique_set <span style="color:#f92672">=</span> set(unique)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59</span><span>    <span style="color:#75715e"># Iterate over pairs of unique cards (still fine; counts handle duplicates)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60</span><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(unique)):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61</span><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(i, len(unique)):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62</span><span>            a <span style="color:#f92672">=</span> unique[i]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63</span><span>            b <span style="color:#f92672">=</span> unique[j]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65</span><span>            need <span style="color:#f92672">=</span> tuple(_third_value_mod3(a[d], b[d]) <span style="color:#66d9ef">for</span> d <span style="color:#f92672">in</span> range(k))
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66</span><span>            <span style="color:#66d9ef">if</span> need <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> unique_set:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67</span><span>                <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69</span><span>            <span style="color:#75715e"># Verify availability of 3 cards considering duplicates</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70</span><span>            <span style="color:#75715e"># Build multiset requirement</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71</span><span>            req <span style="color:#f92672">=</span> Counter([a, b, need])
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72</span><span>            ok <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73</span><span>            <span style="color:#66d9ef">for</span> card, r <span style="color:#f92672">in</span> req<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74</span><span>                <span style="color:#66d9ef">if</span> counts[card] <span style="color:#f92672">&lt;</span> r:
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75</span><span>                    ok <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76</span><span>                    <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77</span><span>            <span style="color:#66d9ef">if</span> ok <span style="color:#f92672">and</span> is_set([a, b, need]):
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78</span><span>                <span style="color:#66d9ef">return</span> [a, b, need]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">79</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">80</span><span>    <span style="color:#66d9ef">return</span> []</span></span></code></pre></div>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>



  



  
  
  


 
        
  
  <div class="book-comments">

</div>
  
 
        <div class="text-center p-0">
	<ul id="nav-social" class="list-inline">
		
			<li class="list-inline-item my-0 mr-3 ml-0 p-0">
				<a href="https://github.com/ppipada" target="_blank" aria-label="github">
					<i class="fab fa-github fa-1x text-muted"></i>
				</a>
			</li>
		
			<li class="list-inline-item my-0 mr-3 ml-0 p-0">
				<a href="https://www.linkedin.com/in/ppipada/" target="_blank" aria-label="linkedin">
					<i class="fab fa-linkedin-in fa-1x text-muted"></i>
				</a>
			</li>
		
			<li class="list-inline-item my-0 mr-3 ml-0 p-0">
				<a href="https://letterboxd.com/ppipada/" target="_blank" aria-label="letterboxd">
					<i class="fab fa-letterboxd fa-1x text-muted"></i>
				</a>
			</li>
		
			<li class="list-inline-item my-0 mr-3 ml-0 p-0">
				<a href="mailto:ppipada@gmail.com" target="_blank" aria-label="mail">
					<i class="fas fa-at fa-1x text-muted"></i>
				</a>
			</li>
		
			<li class="list-inline-item my-0 mr-3 ml-0 p-0">
				<a href="https://pankajpipada.com/index.xml" target="_blank" aria-label="rss">
					<i class="fas fa-rss fa-1x text-muted"></i>
				</a>
			</li>
		
	</ul>
</div>

        
  
  <div class="book-copyright flex justify-center">
    <small>Tech Interview Prep - Copyright © 2016-Present Pankaj Pipada. All Rights Reserved.</small>
  </div>
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
 
  </main>

  
	
	<script src="https://pankajpipada.com/tech-interview-prep/js/copybutton.min.eb1935355b430030f89358fc7901ef972a3973b27cf70b5efba79813702b47ac.js" integrity="sha256-6xk1NVtDADD4k1j8eQHvlyo5c7J89wte&#43;6eYE3ArR6w=" defer></script>


</body>
</html>




















