<!doctype html>
<html lang="en"><head>
    <title>Scramblings</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="" />

    
    
    
    <link rel="stylesheet" href="../../css/theme.min.css">

    
    
    
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PVSXVYRTKF"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-PVSXVYRTKF', { 'anonymize_ip': false });
}
</script>

</head>
<body>
        <div id="content" class="mx-auto"><header class="container mt-sm-2 mt-1 mb-1 mt-xs-1">
    <div class="row">
        
        <div class="col-sm-4 col-12 text-sm-right text-center pt-sm-4">
            <a href="../../" class="text-decoration-none">
                <img id="home-image" class="rounded-circle"
                    
                        
                            src="../../images/logo.png"
                        
                    
                />
            </a>
        </div>
        <div class="col-sm-8 col-12 text-sm-left text-center">
        
            <h2 class="m-0 mt-4">
                <a href="../../" class="text-decoration-none">
                    
                        Scramblings
                    
                </a>
            </h2>
            <p class="text-muted">
                
                    Dev scratchpad. Digital garden
                
            </p>
            <ul id="nav-links" class="list-inline" style="list-style: none; padding: 0; height: 1.2em; line-height: 1em; font-size: medium;">
                
                
                    <li style="display: inline;">
                        <a class="badge badge-white " href="../../tags/" title="Tags">Tags</a>
                    </li>
                
                    <li style="display: inline;">
                        <a class="badge badge-white " href="../../quotes/" title="Quotes">Quotes</a>
                    </li>
                
                    <li style="display: inline;">
                        <a class="badge badge-white " href="../../movies/" title="Movies">Movies</a>
                    </li>
                
                
                    <li style="display: inline;">
                        <a class="badge badge-white" href="https://flexigpt.site/" target="_blank" title="">
                            FlexiGPT
                            <i class="fa fa-external-link-square-alt"></i>
                        </a>
                    </li>
                
            </ul>
            <div id="breadcrumbs-container" style="height: 1.2em; line-height: 1em; margin: 0; overflow: hidden; font-size: small;">
<ul id="breadcrumbs" style="list-style: none; padding: 0;">


<li style="display: inline;"><a href="../../" style="color: grey;"><i class="fas fa-home" st></i></a></li>

    
<li style="display: inline;"><span style="color: grey;">&gt;</span>
<a href="../../posts/" style="color: grey;">Posts</a>
</li>


<li style="display: inline;"><span style="color: grey;">&gt;</span></li>

</ul>
</div>

        </div>
    </div>
    <hr />
</header>
<div class="container">
<div class="pl-sm-4 ml-sm-5">
  <div style="margin-bottom: 3rem">
    <h1 style="text-align: center">Mustache templates and YAML front-matter with Docsify</h1>
    <div style="display: flex; justify-content: space-between; align-items: center; font-size: 1em; color: #6c757d; height: 1.2em; line-height: 1em; padding: 0.25em;">
      <div>
        Apr 29, 2020
      </div>
      <div>
        <i class="fa fa-tags"></i>
        
          <a href="../../tags/markdown" style="color: #6c757d; text-decoration: none;">markdown</a>
        
      </div>
    </div>
  </div><div class="mt-1 mb-5">
  
  <aside>
    <h4>Table of contents</h4>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#docsify">Docsify</a></li>
    <li><a href="#docsify-mustache">Docsify-Mustache</a></li>
    <li><a href="#mustache-tags">Mustache tags</a>
      <ul>
        <li><a href="#variables">Variables</a></li>
        <li><a href="#sections-with-non-empty-lists">Sections with non-empty lists</a></li>
        <li><a href="#inverted-sections">Inverted sections</a></li>
        <li><a href="#extended-example">Extended example</a></li>
      </ul>
    </li>
    <li><a href="#example-project">Example project</a></li>
  </ul>
</nav>
  </aside>
  
</div>
<p>Docsify, YAML front-matter, mustache templates &amp; tags and some quirks when using them.</p>
<h2 id="docsify">Docsify</h2>
<p><a href="https://docsify.js.org/" target="_blank">Docsify</a>
 is a great documentation site generator.</p>
<ul>
<li>It generates your documentation website on the fly using Markdown files directly.</li>
<li>To start using it, all you need to do is create an index.html and deploy it on GitHub pages or any other static site host.</li>
<li>It has a great plugin system that enables extensibility and can be used for solving multiple use cases.</li>
</ul>
<h2 id="docsify-mustache">Docsify-Mustache</h2>
<p>One such plugin that is greatly useful is <a href="https://docsify-mustache.github.io/#/" target="_blank">Docsify-Mustache</a>
.</p>
<ul>
<li>It allows preprocessing markdown documents with <a href="https://mustache.github.io/" target="_blank">Mustache</a>
 template engine.</li>
<li>Mustache is a logic-less templating system. It works by expanding tags in a provided template using values provided in a hash or object.
<ul>
<li>E.g: If you use <code>{{name}}</code> as template in your markdown and provide the value for <code>name</code> either via <a href="https://docsify-mustache.github.io/#/?id=front-matter" target="_blank">YAML front-matter</a>
 or any other supported <a href="https://docsify-mustache.github.io/#/?id=sources" target="_blank">sources</a>
, that value will get rendered.</li>
</ul>
</li>
<li>How to use this plugin with docsify is very well explained in the <a href="https://docsify-mustache.github.io/" target="_blank">documentation site</a>
 for this plugin.</li>
</ul>
<h2 id="mustache-tags">Mustache tags</h2>
<ul>
<li>Mustache supports different types of tags as documented in <a href="https://mustache.github.io/mustache.5.html" target="_blank">mustache manual</a>
.</li>
<li>The basic tags, that were useful to me, when dealing with a documentation site are <code>Variables</code>, <code>Sections with non-empty lists</code> and <code>Inverted sections</code>.</li>
<li>Below are a few examples on using these mustache tag types. I have considered the source of the &ldquo;values&rdquo; as YAML front-matter in markdown but as pointed out before, the source can be any supported input type.</li>
</ul>
<h3 id="variables">Variables</h3>
<p>Variables are the most basic tag type in mustache. The template for accessing a variable is <code>{{variable_name}}</code>.</p>
<p>Example:</p>
<ul>
<li>
<p>Consider that you declare the following YAML front-matter in your markdown document:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">title</span>: <span style="color:#ae81ff">My awesome project documentation</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">category</span>: <span style="color:#ae81ff">Useful</span>
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div></li>
<li>
<p>Now, if you want to refer this in the markdown file you can add:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>{{title}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>This project belongs to category: {{category}}
</span></span></code></pre></div><ul>
<li>When rendering the page <code>title</code> and <code>category</code> will be substituted using the values declared in the front matter.</li>
</ul>
<h3 id="sections-with-non-empty-lists">Sections with non-empty lists</h3>
<p>Sections render blocks of text one or more times, depending on the value of the key in the current context.</p>
<p>A section begins with a pound and ends with a slash. That is, <code>{{#person}}</code> begins a <code>&quot;person&quot;</code> section while <code>{{/person}}</code> ends it.</p>
<p>When the value for a section is a non-empty list, the text in the block will be displayed once for each item in the list. The context of the block will be set to the current item for each iteration. In this way we can loop over collections.</p>
<blockquote>
<p>IMPORTANT NOTE: If the list <code>values</code> contain a hyphen <code>-</code> in them then the list rendering is incorrect/fails for that value. To avoid this use single quotes (&rsquo;&rsquo;) around the value as depicted below.</p>
</blockquote>
<p>Example:</p>
<ul>
<li>
<p>Consider that you declare the following YAML front-matter in your markdown document:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">useful, &#34;rocket-science&#34;, launch]</span>
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div></li>
<li>
<p>Now, if you want to refer the <code>tags</code> list in the markdown file you can add:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>This doc is has the following tags:
</span></span><span style="display:flex;"><span>{{#tags}}
</span></span><span style="display:flex;"><span>{{.}}
</span></span><span style="display:flex;"><span>{{/tags}}
</span></span></code></pre></div><ul>
<li>
<p>Output will be rendered as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>This doc is has the following tags: useful, rocket-science, launch
</span></span></code></pre></div></li>
</ul>
<h3 id="inverted-sections">Inverted sections</h3>
<p>Inverted sections may render text once based on the inverse value of the key. That is, they will be rendered if the key doesn&rsquo;t exist, is false, or is an empty list.</p>
<p>An inverted section begins with a caret (hat) and ends with a slash. That is <code>{{^person}}</code> begins a &ldquo;person&rdquo; inverted section while <code>{{/person}}</code> ends it.</p>
<p>Example:</p>
<ul>
<li>
<p>Consider that you declare the following YAML front-matter in your markdown document:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">tags</span>: []
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div></li>
<li>
<p>Now, if you want to handle the <code>tags</code> list being empty and check for <code>category</code> being absent you can add:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>This doc is has the following tags:
</span></span><span style="display:flex;"><span>{{^category}}
</span></span><span style="display:flex;"><span>No category found !!!
</span></span><span style="display:flex;"><span>{{/category}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{^tags}}
</span></span><span style="display:flex;"><span>No tags found !!!
</span></span><span style="display:flex;"><span>{{/tags}}
</span></span></code></pre></div><ul>
<li>
<p>Given that the categories key doesn&rsquo;t exist and the tags list is empty, Output will be rendered as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>No categories found !!!
</span></span><span style="display:flex;"><span>No tags found !!!
</span></span></code></pre></div></li>
</ul>
<h3 id="extended-example">Extended example</h3>
<p>An extended example where we add a YAML front-matter to a markdown file, use the variables and handle the absent cases is given below.</p>
<p>Markdown file that adds a constant heading section to the documentation page, where the <code>title</code> will be displayed first, then <code>category</code> will be displayed and then the <code>tags</code> list is provided:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: My awesome project documentation
</span></span><span style="display:flex;"><span>tags: [useful, &#34;rocket-science&#34;, launch]
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># {{title}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{category}}
</span></span><span style="display:flex;"><span>{{^category}}
</span></span><span style="display:flex;"><span>No category found !!!
</span></span><span style="display:flex;"><span>{{/category}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Tag list:
</span></span><span style="display:flex;"><span>{{#tags}}
</span></span><span style="display:flex;"><span>{{.}}
</span></span><span style="display:flex;"><span>{{/tags}}
</span></span><span style="display:flex;"><span>{{^tags}}
</span></span><span style="display:flex;"><span>No tags found !!!
</span></span><span style="display:flex;"><span>{{/tags}}
</span></span></code></pre></div><p>The output rendered will be:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>My awesome project documentation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>No category found !!!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Tag list: useful, rocket-science, launch
</span></span></code></pre></div><h2 id="example-project">Example project</h2>
<blockquote>
<p>Most of the above mentioned concepts and tools are used at my <a href="https://pankajpipada.com/tech-interview-prep/#/" target="_blank">tech-interview-prep</a>
 project site. That can act as a good reference.</p>
</blockquote>

</div>

            </div>
        </div><footer class="text-center pb-1">
  <ul id="nav-social" class="list-inline mb-1">
    
    <li class="list-inline-item mr-3">
      <a href="https://github.com/ppipada" target="_blank">
        <i class="fab fa-github fa-1x text-muted"></i>
      </a>
    </li>
    
    <li class="list-inline-item mr-3">
      <a href="https://www.linkedin.com/in/ppipada" target="_blank">
        <i class="fab fa-linkedin-in fa-1x text-muted"></i>
      </a>
    </li>
    
    <li class="list-inline-item mr-3">
      <a href="mailto:ppipada@gmail.com" target="_blank">
        <i class="fas fa-at fa-1x text-muted"></i>
      </a>
    </li>
    
    <li class="list-inline-item mr-3">
      <a href="https://pankajpipada.com/index.xml" target="_blank">
        <i class="fas fa-rss fa-1x text-muted"></i>
      </a>
    </li>
    
  </ul>
  <span class="text-muted" style="font-size:0.8em">
     Copyright Â© 2016-2024 Pankaj Pipada. All Rights Reserved. 
    <br />
  </span>
</footer>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>

        
    </body>
</html>
