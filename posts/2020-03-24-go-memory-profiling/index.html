<!doctype html>
<html lang="en" data-bs-theme="light"><head>
    <title>Scramblings</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    
    
        
    
    
    <meta name="description" content="Generic references and points to consider when doing a memory analysis with go programming language." />
    
    
    <link rel="stylesheet" href="../../vendor/bootstrap/dist/css/bootstrap.min.css">





    
    



    
    <link rel="stylesheet" href="../../vendor/datatables.net-bs5/css/dataTables.bootstrap5.min.css">
    
    
    
    
    
    <link rel="stylesheet" href="../../css/custom.min.css">
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PVSXVYRTKF"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-PVSXVYRTKF', { 'anonymize_ip': false });
}
</script>

</head>
<body><header class="container mt-sm-2 mt-1 mb-1 mx-auto" style="max-width: 650px; margin: auto; position: relative;">
    
    <div style="position: absolute; top: 0; left: 0; z-index: 10;">
        
<button
  id="darkModeToggle"
  class="btn"
  style="background: transparent; border: none"
  aria-label="Toggle dark mode"
>
  <i id="darkModeIcon" class="fas"></i>
</button>

    </div>
    
    <div class="row justify-content-center">
        
        <div class="col-sm-5 col-12 text-sm-end text-center pt-1">
            <a href="../../" class="text-decoration-none" aria-label="home">
                <img id="home-image" class="rounded-circle"
                    
                        
                            src="../../images/icon-192x192.png"
                        
                    
                    alt="home-image"
                />
            </a>
        </div>
        <div class="col-sm-7 col-12 text-sm-start text-center">
        
            <h2 class="m-0 mt-2">
                <a href="../../" class="text-decoration-none">
                    
                        Scramblings
                    
                </a>
            </h2>
            <p class="text-muted">
                
                    Dev scratchpad. Digital garden
                
            </p>
            <ul id="nav-links" class="list-inline" style="list-style: none; padding: 0; height: 1.2em; line-height: 1em; font-size: large;">
                
                
                    <li class="badge" style="display: inline;">
                        <a class="" href="../../tags/" title="Tags">Tags</a>
                    </li>
                
                    <li class="badge" style="display: inline;">
                        <a class="" href="../../quotes/" title="Quotes">Quotes</a>
                    </li>
                
                    <li class="badge" style="display: inline;">
                        <a class="" href="../../movies/" title="Movies">Movies</a>
                    </li>
                
                
                    <li class= "badge" style="display: inline;">
                        <a href="https://flexigpt.site/" target="_blank" title="">
                            FlexiGPT
                            <i class="fa fa-external-link-square-alt"></i>
                        </a>
                    </li>
                
            </ul>
            <div id="breadcrumbs-container" style="height: 1.2em; line-height: 1em; margin: 0; overflow: hidden; font-size: small;">
<ul id="breadcrumbs" style="list-style: none; padding: 0;">
    
    
    <li class="text-muted" style="display: inline;">
        <a class="text-muted" href="../../" aria-label="home"><i class="fas fa-home"></i></a>
    </li>
    
        
    <li class="text-muted" style="display: inline;">
        <span>&gt;</span>
        <a class="text-muted" href="../../posts/">Posts</a>
    </li>
    
    
    <li class="text-muted" style="display: inline;">
        <span>&gt;</span>
    </li>
    
</ul>
</div>

        </div>
        
    </div>
</header>

            <div id="content" class="mx-auto">
                <div class="container">
                    <form id="search" action='https://pankajpipada.com/search/' method="get" class="d-flex justify-content-center mt-2 mb-4">
    <label hidden for="search-input">Search site</label>
    <div class="input-group" style="width: 90%;">
        <span class="input-group-text border-0 bg-transparent">
            <i class="fa fa-search"></i>
        </span>
        <input type="text" class="form-control rounded-pill" id="search-input" name="query" placeholder="Type here to search..." aria-label="Search">
        <button class="btn border-0 bg-transparent" type="submit" aria-label="search">
            <i class="fa fa-arrow-right"></i>
        </button>
    </div>
</form>
<div class="pl-sm-4 ml-sm-5">
  <div style="margin-bottom: 2rem">
    <h1 style="text-align: center">Memory analysis in Go</h1>
    <div class="text-muted" style="display: flex; justify-content: space-between; align-items: center; height: 1.2em; line-height: 1em; padding: 0.25em; font-size: small;">
        <div>
        Mar 24, 2020 | Reading Time: 1 min
        </div>
        <div>
        <i class="fa fa-tags"></i>
        
            <a class="text-muted" href="../../tags/golang">golang</a>
        
        </div>
    </div>
  </div><div class="mt-1 mb-5">
  
</div>
<p>Generic references and points to consider when doing a memory analysis with go programming language.</p>
<ul>
<li>
<p>Do <a href="https://github.com/golang/go/wiki/Performance#memory-profiler" target="_blank">pprof memory profiling</a>
.</p>
</li>
<li>
<p>Go returns memory to OS gradually. Typical time is ~5 minutes. If immediate return is needed, we could use <a href="https://golang.org/pkg/runtime/debug/#FreeOSMemory" target="_blank">FreeOSMemory</a>
. General recommendation is that if this is needed, manage memory alternatively.</p>
</li>
<li>
<p>Alternative for frequent allocated and reused objects is sync.Pool usage. This is tricky and have to be careful when doing this. Sample usage can be found in <a href="https://www.akshaydeo.com/blog/2017/12/23/How-did-I-improve-latency-by-700-percent-using-syncPool/" target="_blank">blog</a>
.</p>
</li>
<li>
<p>Excellant High performance go tips are avilable at this <a href="https://dave.cheney.net/high-performance-go-workshop/dotgo-paris.html#memory-and-gc" target="_blank">post</a>
. This talks about memory and GC too.</p>
</li>
<li>
<p>Garbage collection behaviour is well explianed at: Ardan labs <a href="https://www.ardanlabs.com/blog/2018/12/garbage-collection-in-go-part1-semantics.html" target="_blank">Post 1</a>
, <a href="https://www.ardanlabs.com/blog/2019/05/garbage-collection-in-go-part2-gctraces.html" target="_blank">Post 2</a>
 and <a href="https://www.ardanlabs.com/blog/2019/07/garbage-collection-in-go-part3-gcpacing.html" target="_blank">Post 3</a>
. Also there is this <a href="https://blog.golang.org/ismmkeynote" target="_blank">keynote</a>
 explaining the evolution of Go&rsquo;s garbage collector.</p>
</li>
</ul>

</div>

                </div>
            </div>
        <footer class="text-center pb-1">
  <ul id="nav-social" class="list-inline mb-1">
    
    <li class="list-inline-item mr-3">
      <a href="https://github.com/ppipada" target="_blank" aria-label="github">
        <i class="fab fa-github fa-1x text-muted"></i>
      </a>
    </li>
    
    <li class="list-inline-item mr-3">
      <a href="https://www.linkedin.com/in/ppipada" target="_blank" aria-label="linkedin">
        <i class="fab fa-linkedin-in fa-1x text-muted"></i>
      </a>
    </li>
    
    <li class="list-inline-item mr-3">
      <a href="mailto:ppipada@gmail.com" target="_blank" aria-label="mail">
        <i class="fas fa-at fa-1x text-muted"></i>
      </a>
    </li>
    
    <li class="list-inline-item mr-3">
      <a href="https://pankajpipada.com/index.xml" target="_blank" aria-label="rss">
        <i class="fas fa-rss fa-1x text-muted"></i>
      </a>
    </li>
    
  </ul>
  <span class="text-muted" style="font-size:0.8em">
     Copyright © 2016-2024 Pankaj Pipada. All Rights Reserved. 
    <br />
    Made with ♥️ using <a href="https://gohugo.io/" target="_blank">Hugo</a> and <a href="https://github.com/austingebauer/devise" target="_blank">Devise theme</a>
  </span>
</footer>

        <script src="../../vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        
            
                
                <script src="https://pankajpipada.com/js/darkmode.min.467c1f2703af90b4caf73908aec83e480947a92577fdfdaf0642d9f4afb47ce5.js" integrity="sha256-RnwfJwOvkLTK9zkIrsg&#43;SAlHqSV3/f2vBkLZ9K&#43;0fOU="></script>
            
        
        





    
    


        
            
            <script src="https://pankajpipada.com/js/copybutton.min.a48e6828da436de32d10a615cb3004fd3348a7da47c661db91071e2b87a4294a.js" integrity="sha256-pI5oKNpDbeMtEKYVyzAE/TNIp9pHxmHbkQceK4ekKUo="></script>
        
    </body>
</html>
